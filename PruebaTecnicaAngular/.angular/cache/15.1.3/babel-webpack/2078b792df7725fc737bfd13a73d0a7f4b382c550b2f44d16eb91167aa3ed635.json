{"ast":null,"code":"import { map, mergeMap, tap, toArray } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/escuela.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/kardex\", a1];\n};\nfunction CalifListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\", 1)(2, \"a\", 2);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 3);\n    i0.ɵɵtext(5, \" Da clic en su nombre para ver sus calificaciones \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \" Description: \\\"Alumno destacado\\\" \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function CalifListComponent_div_2_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.share());\n    });\n    i0.ɵɵtext(9, \" Share \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const alumno_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"title\", alumno_r1.nombreCompleto)(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, alumno_r1.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", alumno_r1.nombreCompleto, \" \");\n  }\n}\nexport class CalifListComponent {\n  constructor(escuelaService) {\n    this.escuelaService = escuelaService;\n    this.getAllAlumnos$ = this.escuelaService.getAllAlumnos().pipe(map(d => d.data), mergeMap(d => d), map(d => ({\n      nombreCompleto: `${d.nombre} ${d.apellido_paterno} ${d.apellido_materno}`,\n      id: d.id\n    })), toArray(), tap(console.log));\n  }\n  ngOnInit() {}\n  share() {\n    window.alert('Lo has compartido en facebook!');\n  }\n}\nCalifListComponent.ɵfac = function CalifListComponent_Factory(t) {\n  return new (t || CalifListComponent)(i0.ɵɵdirectiveInject(i1.EscuelaService));\n};\nCalifListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalifListComponent,\n  selectors: [[\"app-calif-list\"]],\n  decls: 4,\n  vars: 3,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [2, \"margin-bottom\", \"0px\"], [3, \"title\", \"routerLink\"], [2, \"margin\", \"0px\", \"padding\", \"0px\", \"font-size\", \".8em\"], [\"type\", \"button\", 3, \"click\"]],\n  template: function CalifListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Lista de Alumnos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, CalifListComponent_div_2_Template, 10, 5, \"div\", 0);\n      i0.ɵɵpipe(3, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 1, ctx.getAllAlumnos$));\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink, i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FsaWYtbGlzdC9jYWxpZi1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7OztDQUlDIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG4vKlxyXG5Db3B5cmlnaHQgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdFxyXG5jYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxyXG4qLyJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,GAAG,EAAEC,QAAQ,EAAcC,GAAG,EAAEC,OAAO,QAAQ,MAAM;;;;;;;;;;;ICE9DC,2BAAmD;IAMzCA,YACF;IAAAA,iBAAI;IAERA,4BAIE;IACEA,kEACJ;IAAAA,iBAAI;IAEJA,yBAAI;IACFA,mDACF;IAAAA,iBAAI;IAGJA,iCAAwC;IAAlBA;MAAAA;MAAA;MAAA,OAASA,6BAAO;IAAA,EAAC;IACrCA,uBACF;IAAAA,iBAAS;;;;IApBHA,eAA+B;IAA/BA,gDAA+B;IAE/BA,eACF;IADEA,yDACF;;;ADAR,OAAM,MAAOC,kBAAkB;EAI7BC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAChC,IAAI,CAACC,cAAc,GAAG,IAAI,CAACD,cAAc,CACtCE,aAAa,EAAE,CACfC,IAAI,CACHV,GAAG,CAACW,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,EAChBX,QAAQ,CAACU,CAAC,IAAIA,CAAC,CAAC,EAChBX,GAAG,CAAEW,CAAM,KAAM;MAACE,cAAc,EAAE,GAAGF,CAAC,CAACG,MAAM,IAAIH,CAAC,CAACI,gBAAgB,IAAIJ,CAAC,CAACK,gBAAgB,EAAE;MAAEC,EAAE,EAAEN,CAAC,CAACM;IAAE,CAAE,CAAC,CAAC,EACzGd,OAAO,EAAE,EACTD,GAAG,CAACgB,OAAO,CAACC,GAAG,CAAC,CACjB;EACL;EAEAC,QAAQ,IAAI;EAEZC,KAAK;IACHC,MAAM,CAACC,KAAK,CAAC,gCAAgC,CAAC;EAChD;;AApBWlB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV/BxB,0BAAI;MAAAA,gCAAgB;MAAAA,iBAAK;MAGzBA,oEA0BM;;;;MA1BkBA,eAAyB;MAAzBA,kEAAyB","names":["map","mergeMap","tap","toArray","i0","CalifListComponent","constructor","escuelaService","getAllAlumnos$","getAllAlumnos","pipe","d","data","nombreCompleto","nombre","apellido_paterno","apellido_materno","id","console","log","ngOnInit","share","window","alert","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/hector/proyectos/gitlab/pruebatechjavav2/PruebaTecnicaAngular/src/app/calif-list/calif-list.component.ts","/home/hector/proyectos/gitlab/pruebatechjavav2/PruebaTecnicaAngular/src/app/calif-list/calif-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { map, mergeMap, Observable, tap, toArray } from 'rxjs';\r\n\r\nimport { EscuelaService } from '../services/escuela.service';\r\n\r\n@Component({\r\n  selector: 'app-calif-list',\r\n  templateUrl: './calif-list.component.html',\r\n  styleUrls: ['./calif-list.component.css']\r\n})\r\nexport class CalifListComponent implements OnInit {\r\n\r\n  getAllAlumnos$: Observable<any>;\r\n\r\n  constructor(private escuelaService: EscuelaService) { \r\n    this.getAllAlumnos$ = this.escuelaService\r\n      .getAllAlumnos()\r\n      .pipe(\r\n        map(d => d.data),\r\n        mergeMap(d => d),\r\n        map((d: any) => ({nombreCompleto: `${d.nombre} ${d.apellido_paterno} ${d.apellido_materno}`, id: d.id })),\r\n        toArray(),\r\n        tap(console.log),\r\n      )\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  share() {\r\n    window.alert('Lo has compartido en facebook!');\r\n  }\r\n}","<h2>Lista de Alumnos</h2>\r\n\r\n\r\n<div *ngFor=\"let alumno of getAllAlumnos$ | async\">\r\n\r\n    <h3 style=\"margin-bottom: 0px;\">\r\n        <a\r\n          [title]=\"alumno.nombreCompleto\"\r\n          [routerLink]=\"['/kardex', alumno.id]\">\r\n          {{ alumno.nombreCompleto }}\r\n        </a>\r\n    </h3>\r\n    <p style=\"\r\n    margin: 0px;\r\n    padding: 0px;\r\n    font-size: .8em;\r\n    \">\r\n        Da clic en su nombre para ver sus calificaciones\r\n    </p>\r\n  \r\n    <p >\r\n      Description: \"Alumno destacado\"\r\n    </p>\r\n    \r\n  \r\n    <button type=\"button\" (click)=\"share()\">\r\n      Share\r\n    </button>\r\n  \r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}